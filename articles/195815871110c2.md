---
title: "Twitter APIï¼ˆtweepyï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€ç”»åƒä»˜ããƒ„ã‚¤ãƒ¼ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹"
emoji: "ğŸ¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [twitter, twitterapi, twitterapiv2, tweepy, python]
published: true
---

2023å¹´4æœˆ4æ—¥ç¾åœ¨ã€v2 APIã§ã¯ç”»åƒä»˜ããƒ„ã‚¤ãƒ¼ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

å‚è€ƒï¼‰
[Post Tweet/Media Upload in v2? - Twitter API / Twitter API v2 - Twitter Developers](https://twittercommunity.com/t/post-tweet-media-upload-in-v2/148590/29)

ãã®ãŸã‚ã€ç”»åƒä»˜ããƒ„ã‚¤ãƒ¼ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«v1 APIã¨v2 APIã‚’çµ„ã¿åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
`tweepy.API`ã§v1 APIã‚’ä½¿ç”¨ã—ã€`tweepy.Client`ã§v2 APIã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

```py
import tweepy

# Twitter API credentials
consumer_key = "xxxxxxxxxxxxxxxxxxxxxxxxx"
consumer_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
access_token = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
access_token_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Authenticate Twitter API
auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)

# Create API object
api = tweepy.API(auth)
client = tweepy.Client(
    consumer_key=consumer_key,
    consumer_secret=consumer_secret,
    access_token=access_token,
    access_token_secret=access_token_secret)

# Attach image and message to tweet
image_path = './sample.jpg'  # Specify image file path
message = 'sample message'  # Specify message

media = api.media_upload(filename=image_path)
client.create_tweet(text=message, media_ids=[media.media_id])
```
